<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Profile | HuggingHeart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="navbar">
  <a href="index.html">Home</a>
  <a href="community.html">Community</a>
</nav>

<div class="profile-container">
  <img id="girlImage">
  <h2 id="girlName"></h2>
  <p id="girlBio"></p>
  <button onclick="startChat()">Start Chat</button>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const girlId = params.get("id");

fetch(`profiles/${girlId}.json`)
  .then(res => res.json())
  .then(girl => {
    window.currentGirl = girl;
    document.getElementById("girlImage").src =
      `assets/images/girls/${girl.image}`;
    document.getElementById("girlName").innerText = girl.name;
    document.getElementById("girlBio").innerText = girl.bio;
  });

function startChat() {
  sessionStorage.setItem("girlId", currentGirl.id);
  sessionStorage.setItem("answerFile", currentGirl.answer_file);
  window.location.href = "chat.html";
}
</script>

</body>
</html>
