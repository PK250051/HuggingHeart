<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile | HuggingHeart</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #2f855a; }
        body { margin: 0; font-family: 'Poppins', sans-serif; }
        .container { max-width: 900px; margin: 60px auto; display: flex; gap: 50px; padding: 0 20px; align-items: center; }
        .profile-img { width: 400px; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); }
        .details h1 { font-family: 'Playfair Display'; font-size: 42px; margin: 0; }
        .details .meta { color: #6b7280; margin-bottom: 20px; }
        .details .bio { line-height: 1.8; color: #444; margin-bottom: 30px; }
        .btn-chat { background: var(--primary); color: white; border: none; padding: 15px 40px; border-radius: 30px; font-weight: 600; cursor: pointer; text-decoration: none; display: inline-block; }
    </style>
</head>
<body>

<div class="container" id="profileView">
    </div>

<script>
    async function loadProfile() {
        const id = new URLSearchParams(window.location.search).get('id');
        const res = await fetch('knowledge/Assertive_Girls_Profile_Database_V1.csv');
        const text = await res.text();
        const row = text.split(/\r?\n/).find(r => r.startsWith(id));
        const c = row.split(',');

        document.getElementById('profileView').innerHTML = `
            <img src="knowledge/images/luna-avatar.png.png" class="profile-img">
            <div class="details">
                <a href="community.html">← Back</a>
                <h1>${c[1]}</h1>
                <p class="meta">${c[5]} from ${c[4]} • <b>Personality: ${c[6]}</b></p>
                <p class="bio">${c[8]}</p>
                <a href="chat.html?id=${c[0]}" class="btn-chat">Start Chatting with ${c[1].split(' ')[0]}</a>
            </div>
        `;
    }
    window.onload = loadProfile;
</script>
</body>
</html>
