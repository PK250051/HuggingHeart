<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HuggingHeart | Discover</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #2f855a; --bg: #fff; --gray: #6b7280; }
        body { margin: 0; font-family: 'Poppins', sans-serif; background: var(--bg); }
        .header { padding: 20px 5%; border-bottom: 1px solid #eee; text-align: center; }
        .logo { font-family: 'Playfair Display'; font-size: 28px; color: var(--primary); text-decoration: none; font-weight: bold; }
        
        .container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        .section-title { font-family: 'Playfair Display'; font-size: 32px; margin-bottom: 30px; text-align: center; }
        
        /* Grid for 10 Girls */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 25px; }
        .girl-card { background: white; border-radius: 20px; border: 1px solid #eee; overflow: hidden; cursor: pointer; transition: 0.3s; }
        .girl-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.08); border-color: var(--primary); }
        .girl-card img { width: 100%; height: 280px; object-fit: cover; }
        .info { padding: 15px; text-align: center; }
        .info h3 { font-family: 'Playfair Display'; margin: 0; font-size: 18px; }
        .info p { margin: 5px 0; font-size: 12px; color: var(--gray); }
        .tag { display: inline-block; background: #eaf7f0; color: var(--primary); padding: 4px 10px; border-radius: 10px; font-size: 10px; font-weight: 600; margin-top: 8px; }
    </style>
</head>
<body>

<header class="header">
    <a href="index.html" class="logo">HuggingHeart</a>
</header>

<div class="container">
    <h1 class="section-title">Meet Our Personalities (B1 - B10)</h1>
    <div class="grid" id="communityGrid">
        </div>
</div>

<script>
    async function loadCommunity() {
        const res = await fetch('knowledge/Assertive_Girls_Profile_Database_V1.csv');
        const text = await res.text();
        const rows = text.split(/\r?\n/).slice(1);
        
        const girls = rows.map(r => {
            const c = r.split(',');
            if(c.length < 7) return null;
            return { id: c[0], name: c[1], age: c[2], country: c[4], job: c[5], type: c[6] };
        }).filter(g => g);

        // Find 1 girl for each type B1 through B10
        const sampleGirls = [];
        for(let i=1; i<=10; i++) {
            const found = girls.find(g => g.type.startsWith(`B${i}`));
            if(found) sampleGirls.push(found);
        }

        document.getElementById('communityGrid').innerHTML = sampleGirls.map(g => `
            <div class="girl-card" onclick="window.location.href='profile.html?id=${g.id}'">
                <img src="knowledge/images/luna-avatar.png.png">
                <div class="info">
                    <h3>${g.name}, ${g.age}</h3>
                    <p>${g.job} â€¢ ${g.country}</p>
                    <span class="tag">${g.type}</span>
                </div>
            </div>
        `).join('');
    }
    window.onload = loadCommunity;
</script>
</body>
</html>
