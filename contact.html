<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HuggingHeart AI Chat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --green:#6fcf97;
  --sky:#9fd3ff;
  --bg:#f9fbfd;
  --card:#ffffff;
  --text:#1f2937;
  --muted:#6b7280;
  --border:#e5e7eb;
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#f9fbfd,#eef7ff);
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* CHAT CONTAINER */
.chat-box{
  width:360px;
  background:var(--card);
  border-radius:20px;
  display:flex;
  flex-direction:column;
  border:1px solid var(--border);
  box-shadow:0 20px 40px rgba(159,211,255,0.35);
}

.chat-header{
  background:linear-gradient(135deg,var(--green),var(--sky));
  padding:14px;
  color:#fff;
  border-radius:20px 20px 0 0;
  font-weight:600;
  text-align:center;
}

.chat-body{
  padding:14px;
  height:300px;
  overflow-y:auto;
  font-size:14px;
}

.chat-msg{
  margin-bottom:12px;
  line-height:1.5;
}

.chat-input{
  display:flex;
  border-top:1px solid var(--border);
}

.chat-input input{
  flex:1;
  padding:12px;
  border:none;
  font-family:inherit;
}

.chat-input button{
  padding:12px 18px;
  border:none;
  background:var(--green);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="chat-box">
  <div class="chat-header" id="chatHeader"></div>

  <div class="chat-body" id="chatBody">
    <!-- Greeting added by JS -->
  </div>

  <div class="chat-input">
    <input id="userInput" placeholder="Type your messageâ€¦">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<script>
/* ======================================================
   RANDOM FEMALE AI NAME (30 COUNTRIES)
   ====================================================== */

const femaleNames = [
  "Aiko (Japan)",
  "Sofia (Spain)",
  "Amara (Nigeria)",
  "Elena (Italy)",
  "Mei (China)",
  "Anaya (India)",
  "Layla (UAE)",
  "Freya (Norway)",
  "Isabella (Brazil)",
  "Noura (Egypt)",
  "Camille (France)",
  "Yara (Lebanon)",
  "Hana (South Korea)",
  "Lucia (Argentina)",
  "Zara (UK)",
  "Mila (Russia)",
  "Ingrid (Sweden)",
  "Riya (Nepal)",
  "Noor (Jordan)",
  "Alina (Ukraine)",
  "Aya (Morocco)",
  "Lea (Germany)",
  "Karla (Mexico)",
  "Nina (Poland)",
  "Ivy (Canada)",
  "Saanvi (Sri Lanka)",
  "Tala (Philippines)",
  "Mariam (Turkey)",
  "Esra (Azerbaijan)",
  "Olivia (Australia)"
];

const BOT_NAME = femaleNames[Math.floor(Math.random() * femaleNames.length)];
document.getElementById("chatHeader").innerText = BOT_NAME + " â€¢ HuggingHeart AI";

/* ======================================================
   KNOWLEDGE BASE
   ====================================================== */

const knowledgeBase = [
  {
    keys:["what is huggingheart","about huggingheart"],
    answer:"HuggingHeart is a gentle social and dating platform focused on conversation, emotional comfort, and meaningful connections."
  },
  {
    keys:["is this dating","dating app"],
    answer:"Yes, HuggingHeart supports dating, but in a calm and respectful wayâ€”no pressure, no aggressive matching."
  },
  {
    keys:["is it safe","safety"],
    answer:"Safety is very important here. Respectful behavior, privacy, and user well-being come first."
  },
  {
    keys:["age limit","who can join"],
    answer:"Anyone who is 18 years or older can join HuggingHeart."
  },
  {
    keys:["premium","subscription"],
    answer:"Basic features are free. Optional premium features may be added later."
  },
  {
    keys:["hello","hi","hey"],
    answer:"Hi ðŸ˜Š Iâ€™m happy youâ€™re here. How can I help you today?"
  },
  {
    keys:["thank you","thanks"],
    answer:"Youâ€™re very welcome ðŸ’š"
  }
];

/* ======================================================
   SMART FALLBACK REPLIES
   ====================================================== */

const fallbackReplies = [
  "Thatâ€™s an interesting question. You can ask me about safety, profiles, or how HuggingHeart works.",
  "I might not have that exact answer yet, but Iâ€™d love to help if you ask about features or community rules.",
  "Try asking me about dating, emotional connections, or account setup.",
  "Could you rephrase that a little? I want to understand you better ðŸ˜Š"
];

/* ======================================================
   UTILITIES
   ====================================================== */

function normalize(text){
  return text.toLowerCase().replace(/[^a-z0-9\s]/g,"").trim();
}

function scoreMatch(input, key){
  let score = 0;
  const words = key.split(" ");
  for(const w of words){
    if(input.includes(w)) score++;
  }
  return score / words.length;
}

/* ======================================================
   CHAT LOGIC
   ====================================================== */

const chatBody = document.getElementById("chatBody");

/* Initial greeting */
chatBody.innerHTML += `
  <div class="chat-msg"><b>${BOT_NAME}:</b> Hello ðŸ‘‹  
  Iâ€™m here to help you understand HuggingHeart. Ask me anything.</div>
`;

function sendMessage(){
  const input = document.getElementById("userInput");
  const raw = input.value.trim();
  if(!raw) return;

  chatBody.innerHTML += `<div class="chat-msg"><b>You:</b> ${raw}</div>`;

  const text = normalize(raw);
  let bestScore = 0;
  let reply = null;

  for(const item of knowledgeBase){
    for(const k of item.keys){
      const s = scoreMatch(text, normalize(k));
      if(s > bestScore){
        bestScore = s;
        reply = item.answer;
      }
    }
  }

  if(bestScore < 0.4){
    reply = fallbackReplies[Math.floor(Math.random() * fallbackReplies.length)];
  }

  chatBody.innerHTML += `<div class="chat-msg"><b>${BOT_NAME}:</b> ${reply}</div>`;
  input.value = "";
  chatBody.scrollTop = chatBody.scrollHeight;
}
</script>

</body>
</html>